/dts-v1/;
#include <dt-bindings/clock/swallow-clk.h>
#include <dt-bindings/interrupt-controller/irq.h>
/ {
	model = "nexell-swallow,qemu";
	compatible = "nexell,swallow";
	#address-cells = <0x00000002>;
	#size-cells = <0x00000002>;

	aliases {
		pinctrl0 = &pinctrl_0;
	};

	chosen {
		bootargs = "console=ttyS0,115200";
		stdout-path = "serial0@208a0000";
	};

	cpus {
		#address-cells = <0x00000001>;
		#size-cells = <0x00000000>;
		timebase-frequency = <10000000>;

		cpu@0 {
			device_type = "cpu";
			reg = <0x00000000>;
			status = "okay";
			compatible = "riscv";
			riscv,isa = "rv64imafdcsu";
			mmu-type = "riscv,sv48";
			clock-frequency = <1000000000>;

			cpu0_intc: interrupt-controller {
				#interrupt-cells = <0x00000001>;
				interrupt-controller;
				compatible = "riscv,cpu-intc";
				linux,phandle = <0x00000001>;
				phandle = <0x00000001>;
			};
		};
	};

	memory@80000000 {
		device_type = "memory";
		reg = <0x00000000 0x80000000 0x00000000 0x08000000>;
	};

	soc {
		#address-cells = <0x00000002>;
		#size-cells = <0x00000002>;
		compatible = "simple-bus";
		ranges;

		clint@0x2000000 {
			compatible = "riscv,clint0";
			interrupts-extended = <&cpu0_intc 3 &cpu0_intc 7>;
			reg = <0x00000000 0x02000000 0x00000000 0x00010000>;
		};

		plic: interrupt-controller@4000000 {
			#interrupt-cells = <1>;
			interrupt-controller;
			compatible = "riscv,plic0";
			interrupts-extended = <&cpu0_intc 11 &cpu0_intc 9>;
			reg = <0x00000000 0x0c000000 0x00000000 0x10000000>;
			reg-names = "control";
			riscv,max-priority = <7>;
			riscv,ndev = <89>;
			linux,phandle = <0x00000002>;
			phandle = <0x00000002>;
		};

		adc0: adc0@206c0000 {
			compatible = "nexell,swallow-adc";
			reg = <0x00000000 0x206c0000 0x00000000 0x10000>;
			interrupt-parent = <&plic>;
			interrupts = <46>;
			clocks = <&cmu CLK_2_ADC0_APB>;
			clock-names = "adc0_apb";
			sample_rate = <200000>;
			#io-channel-cells = <1>;
			status = "okay";
		};

		pwm0: pwm0@208e0000	{
			compatible = "nexell,swallow-pwm";
			reg = <0x00000000 0x208e0000 0x00000000 0x10000>;
			clocks = <&cmu CLK_2_PWM0_APB>,
				   <&cmu CLK_0_PWM0_TCLK0>,
				   <&cmu CLK_0_PWM0_TCLK1>,
				   <&cmu CLK_0_PWM0_TCLK2>,
				   <&cmu CLK_0_PWM0_TCLK3>;
			clock-names = "pwm0_apb", "pwm0_tclk0", "pwm0_tclk1",
				"pwm0_tclk2", "pwm0_tclk3";
			tclk_freq = <100000000>, <100000000>, <100000000>, <100000000>;
			nexell,pwm-outputs = <0>, <1>, <2>, <3>;
			pinctrl-names = "default";
			pinctrl-0 = <&pwm0_pin &pwm1_pin &pwm2_pin &pwm3_pin>;
			#pwm-cells = <3>;
		};
		pwm1: pwm1@208f0000	{
			compatible = "nexell,swallow-pwm";
			reg = <0x00000000 0x208f0000 0x00000000 0x10000>;
			clocks = <&cmu CLK_2_PWM1_APB>,
				   <&cmu CLK_0_PWM1_TCLK0>,
				   <&cmu CLK_1_PWM1_TCLK1>,
				   <&cmu CLK_1_PWM1_TCLK2>,
				   <&cmu CLK_1_PWM1_TCLK3>;
			clock-names = "pwm1_apb", "pwm1_tclk0", "pwm1_tclk1",
				"pwm1_tclk2", "pwm1_tclk3";
			tclk_freq = <100000000>, <100000000>, <100000000>, <100000000>;
			nexell,pwm-outputs = <0>, <1>, <2>, <3>;
			pinctrl-names = "default";
			pinctrl-0 = <&pwm4_pin &pwm5_pin &pwm6_pin &pwm7_pin>;
			#pwm-cells = <3>;
		};
		pwm2: pwm2@20900000	{
			compatible = "nexell,swallow-pwm";
			reg = <0x00000000 0x20900000 0x00000000 0x10000>;
			clocks = <&cmu CLK_2_PWM2_APB>,
				   <&cmu CLK_1_PWM2_TCLK0>,
				   <&cmu CLK_1_PWM2_TCLK1>,
				   <&cmu CLK_1_PWM2_TCLK2>,
				   <&cmu CLK_1_PWM2_TCLK3>;
			clock-names = "pwm2_apb", "pwm2_tclk0", "pwm2_tclk1",
				"pwm2_tclk2", "pwm2_tclk3";
			tclk_freq = <100000000>, <100000000>, <100000000>, <100000000>;
			nexell,pwm-outputs = <0>, <1>, <2>, <3>;
			pinctrl-names = "default";
			pinctrl-0 = <&pwm8_pin &pwm9_pin &pwm10_pin &pwm11_pin>;
			#pwm-cells = <3>;
		 };

                oscclk: xti {
                        compatible = "fixed-clock";
                        #clock-cells = <0>;
                        clock-output-names = "oscclk";
                        clock-frequency =  <25000000>;
	        };

                pll_0: pll0 {
			compatible = "fixed-clock";
                        reg = <0x00000000 0x20010000 0x00000000 0x1000>;
			#clock-cells = <0>;
			clock-output-names = "pll0";
                        clock-frequency = <400000000>;
		};

		pll_1: pll1 {
			compatible = "fixed-clock";
                        reg = <0x00000000 0x20020000 0x00000000 0x1000>;
			#clock-cells = <0>;
			clock-output-names = "pll1";
                        clock-frequency = <400000000>;
		};

                cmu: clock-controller@0x20030000 {
                        compatible = "nexell,swallow-cmu";
			reg = <0x00000000 0x20030000 0x00000000 0x1000>;
			#clock-cells = <1>;
			clock-names = "oscclk",
                                      "pll0",
                                      "pll1";
			clocks = <&oscclk>,
                                 <&pll_0>,
                                 <&pll_1>;
		};
        };

	pinctrl_0: pinctrl@0x20700000 {
		compatible = "nexell,swallow-pinctrl";
		#address-cells = <1>;
		#size-cells = <1>;
		reg = <0x00000000 0x20700000 0x00000000 0x1000
		       0x00000000 0x20710000 0x00000000 0x1000
		       0x00000000 0x20720000 0x00000000 0x1000
		       0x00000000 0x20730000 0x00000000 0x1000
		       0x00000000 0x20740000 0x00000000 0x1000
		       0x00000000 0x20750000 0x00000000 0x1000
		       0x00000000 0x20760000 0x00000000 0x1000
		       0x00000000 0x20770000 0x00000000 0x1000>;
		interrupt-parent = <&plic>;
		interrupts = <0 82 IRQ_TYPE_NONE>,
			     <0 83 IRQ_TYPE_NONE>,
			     <0 84 IRQ_TYPE_NONE>,
			     <0 85 IRQ_TYPE_NONE>,
			     <0 86 IRQ_TYPE_NONE>,
			     <0 87 IRQ_TYPE_NONE>,
			     <0 88 IRQ_TYPE_NONE>,
			     <0 89 IRQ_TYPE_NONE>;
		status = "okay";
	};

	serial0@208a0000 {
		compatible = "ns16550a";
		reg = <0x00000000 0x208a0000 0x00000000 0x00001000>;
		clock-frequency = <3686400>;
		interrupts = <58>;
		interrupt-parent = <&plic>;
		status = "okay";
	};
};

#include "swallow-pinctrl.dtsi"
